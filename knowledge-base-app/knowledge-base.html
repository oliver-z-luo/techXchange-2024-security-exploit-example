<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Widgetify Knowledge Base</title>
    <style>
      body {
        font-family: Arial, sans-serif;
      }
      h1,
      h2 {
        color: #2c3e50;
      }
      pre {
        background-color: #f5f5f5;
        padding: 10px;
        border-radius: 5px;
      }
      code {
        background-color: #f5f5f5;
        padding: 2px 4px;
        border-radius: 3px;
      }
      .caption {
        color: grey;
        font-style: italic;
      }
      hr {
        border: 1px solid #2c3e50;
      }
    </style>
  </head>
  <body>
    <h1><strong>Widgetify Integration Knowledge Base</strong></h1>
    <hr />

    <h2>1. Introduction to Widgetify API Integration</h2>
    <p>
      The <strong>Widgetify</strong> API allows SaaS products to seamlessly
      integrate widgets into their platform, offering real-time data
      visualization, user interactivity, and custom widget creation. Integrating
      the API involves configuring authentication, setting up the API endpoint,
      and managing real-time data streams.
    </p>
    <img src="./data/integration.png" alt="Integrations" width="400" />
    <p class="caption">
      Data flow between the Widgetify API and the SaaS product.
    </p>

    <hr />

    <h2>2. Getting Started with Widgetify API</h2>

    <h3>Authentication Setup</h3>
    <p>
      To interact with the Widgetify API, your system must authenticate using
      OAuth 2.0. Below are the steps to authenticate and acquire an access
      token:
    </p>

    <ol>
      <li>
        <strong>Request Access Token</strong>:
        <pre><code>POST /oauth/token</code></pre>
        <p>Example request:</p>
        <pre><code>
curl -X POST https://api.widgetify.com/oauth/token \
-d "client_id=YOUR_CLIENT_ID" \
-d "client_secret=YOUR_CLIENT_SECRET" \
-d "grant_type=client_credentials"
      </code></pre>
      </li>
      <li>
        <strong>Access Token Usage</strong>:
        <p>
          Once you receive the token, include it in the header for all API
          requests:
        </p>
        <pre><code>Authorization: Bearer YOUR_ACCESS_TOKEN</code></pre>
      </li>
    </ol>

    <hr />

    <h2>3. Key Endpoints for Widgetify API</h2>

    <h3>Fetching Widget Data</h3>
    <p>
      To retrieve widget data, make a <code>GET</code> request to the following
      endpoint:
    </p>
    <pre><code>GET /widgets/{widget_id}</code></pre>

    <ul>
      <li>
        <strong>Parameters</strong>:
        <ul>
          <li>
            <code>widget_id</code>: The ID of the widget you want to fetch.
          </li>
          <li>
            <code>filters</code>: Optional filters to customize the data
            returned.
          </li>
        </ul>
      </li>
    </ul>

    <p>Example Response:</p>
    <pre><code>{
  "widget_id": "abc123",
  "widget_name": "Sales Dashboard",
  "data": {...}
}</code></pre>

    <h3>Creating Custom Widgets</h3>
    <p>To create a new widget, send a <code>POST</code> request:</p>
    <pre><code>POST /widgets</code></pre>

    <ul>
      <li>
        <strong>Body</strong>:
        <ul>
          <li><code>widget_name</code>: The name of the new widget.</li>
          <li>
            <code>configuration</code>: JSON object containing widget settings.
          </li>
        </ul>
      </li>
    </ul>
    <img src="./data/dashboard.png" alt="Admin Dashboard" width="400" />
    <p class="caption">
      Adminstrator Dashboard graphical interface with various widget
      configurations.
    </p>

    <hr />

    <h2>4. Troubleshooting Common Issues</h2>

    <h3>1. Invalid Access Token</h3>
    <p>
      If you receive an invalid token error (<code>401 Unauthorized</code>),
      ensure that:
    </p>
    <ul>
      <li>Your token hasn’t expired.</li>
      <li>
        The <code>Authorization</code> header is correctly formatted with the
        bearer token.
      </li>
    </ul>

    <p><strong>Solution</strong>:</p>
    <ul>
      <li>
        Re-authenticate by following the OAuth process and updating your token.
      </li>
    </ul>

    <h3>2. Rate Limit Exceeded</h3>
    <p>
      The Widgetify API imposes rate limits to prevent abuse. If you exceed
      these limits, you will receive a <code>429 Too Many Requests</code> error.
    </p>

    <p><strong>Solution</strong>:</p>
    <ul>
      <li>
        Implement exponential backoff in your API calls to handle rate limits.
      </li>
    </ul>

    <h3>3. Widget Not Displaying Correct Data</h3>
    <p>
      If your widget isn’t displaying data as expected, double-check the filters
      and data stream settings. Incorrect filters may lead to incomplete data.
    </p>

    <img
      src="https://supertokens.com/covers/http-error-codes-401-vs-403.png"
      alt="HTTP Error Codes"
      width="400"
    />

    <p class="caption">
      Flowchart showing the common error codes (<code>401</code>,
      <code>429</code>).
    </p>

    <hr />

    <h2>5. Best Practices for Using the Widgetify API</h2>
    <ul>
      <li>
        <strong>Optimize API Calls</strong>:
        <p>
          Minimize the number of API calls by using pagination and data caching
          where possible.
        </p>
      </li>
      <li>
        <strong>Monitor API Usage</strong>:
        <p>
          Use the Widgetify dashboard to monitor your API usage and avoid
          hitting rate limits.
        </p>
      </li>
      <li>
        <strong>Security Considerations</strong>:
        <ul>
          <li>Ensure that all API requests are made over HTTPS.</li>
          <li>
            Regularly rotate access tokens to reduce the risk of compromised
            credentials.
          </li>
        </ul>
      </li>
    </ul>

    <hr />

    <h2>6. FAQ: Frequently Asked Questions</h2>

    <h3>Q1: How can I reset my API credentials?</h3>
    <p>
      Navigate to the Widgetify dashboard, and under the
      <strong>API Settings</strong> section, you can generate new API
      credentials and invalidate old ones.
    </p>

    <h3>Q2: How do I add a custom widget to my SaaS product?</h3>
    <p>
      Use the <code>/widgets</code> endpoint to create a new widget and
      integrate it into your platform using the provided widget ID.
    </p>

    <h3>Q3: What’s the maximum data size for widget configurations?</h3>
    <p>
      The Widgetify API allows up to 1MB of data for widget configurations. For
      larger data sets, use data compression or make multiple API requests.
    </p>

    <hr />
  </body>
</html>
