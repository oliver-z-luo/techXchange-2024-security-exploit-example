// server.js
const express = require('express');
const cors = require('cors');
const app = express();
const port = 2000;

app.use(cors());
app.use(express.json());

app.listen(port, () => {
  console.log(`Backend server is running on port ${port}`);
});

const path = require('path');

app.get('/image', (req, res) => {
  res.sendFile(path.join(__dirname, 'apps/data/image.png'));
});

let visitors = [
  { ip: '192.168.1.1', name: 'Alice', dateVisited: '2023-10-01' },
  { ip: '192.168.1.2', name: 'Bob', dateVisited: '2023-10-02' },
  { ip: '192.168.1.3', name: 'Charlie', dateVisited: '2023-10-03' },
];

// Sort visitors by dateVisited in ascending order
visitors.sort((a, b) => new Date(a.dateVisited) - new Date(b.dateVisited));

app.get('/visitors', (req, res) => {
  res.json(visitors);
});